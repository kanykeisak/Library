import{d as v,c as _,a as d,o as c,b as k,w as n,j as h,t as p,e as o,_ as C,g as l,h as m,k as b,n as $,m as g,p as I,r as M,q as T,f as x,F}from"./index-3dbe8a5a.js";import{u as N}from"./vue.f36acd1f-41263180.js";import{u as y,g as S,a as V}from"./index-f8b923f5.js";const j=v({__name:"ToggleFavoriteBook",props:{book:{}},setup(u){const s=u,e=y(),i=_(()=>e.isBookInFavorites(s.book.id)?"In favorites":"To favorites"),r=_(()=>e.isBookInFavorites(s.book.id)?"yellow":"");return(f,t)=>{const a=d("v-btn");return c(),k(a,{"prepend-icon":"mdi-star",color:o(r),onClick:t[0]||(t[0]=B=>o(e).toggleFavoriteBook(f.book))},{default:n(()=>[h(p(o(i)),1)]),_:1},8,["color"])}}}),D=v({__name:"ToggleReadBook",props:{book:{}},setup(u){const s=u,e=y(),i=_(()=>e.isBookInBookshelf(s.book.id)?"In bookshelf":"To bookshelf"),r=_(()=>e.isBookInBookshelf(s.book.id)?"green":"");return(f,t)=>{const a=d("v-btn");return c(),k(a,{"prepend-icon":"mdi-bookshelf",color:o(r),onClick:t[0]||(t[0]=B=>o(e).toggleBookshelfBook(f.book))},{default:n(()=>[h(p(o(i)),1)]),_:1},8,["color"])}}}),H={};function L(u,s){const e=d("v-btn");return c(),k(e,{"prepend-icon":"mdi-arrow-left",variant:"text",onClick:s[0]||(s[0]=i=>u.$router.go(-1))},{default:n(()=>[h("Back")]),_:1})}const E=C(H,[["render",L]]),O="_image_17fkx_1",R="_info_17fkx_5",w={image:O,info:R},q=["src"],z=["src"],A=["innerHTML"],P=v({__name:"BookDetails",props:{book:{}},setup(u){const s=u;N({title:`Polka - ${s.book.title}`});const e=_(()=>s.book.image),i=_(()=>Object.keys(s.book).length>0);return(r,f)=>{const t=d("v-col"),a=d("v-row"),B=d("v-container");return c(),k(B,null,{default:n(()=>[l(a,null,{default:n(()=>[l(t,null,{default:n(()=>[l(o(E))]),_:1})]),_:1}),l(a,null,{default:n(()=>[l(t,{sm:"10",md:"8",lg:"6","offset-lg":"3","offset-md":"2","offset-sm":"1"},{default:n(()=>[l(a,null,{default:n(()=>[l(t,null,{default:n(()=>[m("h2",null,p(r.book.title),1)]),_:1})]),_:1}),l(a,null,{default:n(()=>[l(t,{cols:"12",sm:"5",md:"3"},{default:n(()=>[o(e)?(c(),b("img",{key:0,src:o(e),class:$(o(w).image)},null,10,q)):(c(),b("img",{key:1,src:o(S)(),alt:"No image"},null,8,z))]),_:1}),l(t,null,{default:n(()=>[m("div",{class:$(o(w).info)},[m("h3",null,p(o(V)(r.book.authors)),1),m("div",{innerHTML:r.book.description},null,8,A)],2),l(a,null,{default:n(()=>[l(t,{cols:"auto"},{default:n(()=>[o(i)?(c(),k(o(j),{key:0,book:r.book},null,8,["book"])):g("",!0)]),_:1}),l(t,{cols:"auto"},{default:n(()=>[o(i)?(c(),k(o(D),{key:0,book:r.book},null,8,["book"])):g("",!0)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}}),U={key:1,class:"text-center mt-10"},K=v({__name:"Book",setup(u){const s=I(),e=y(),i=M(!1);T(()=>{f()}),x(()=>{e.$reset()});const r=_(()=>Object.keys(e.book).length>0),f=async()=>{const{id:t}=s.params;if(typeof t=="string"){const{error:a}=await e.fetchBookById(t);a&&(i.value=!0)}};return(t,a)=>(c(),b(F,null,[o(r)?(c(),k(o(P),{key:0,book:o(e).book},null,8,["book"])):g("",!0),o(i)?(c(),b("div",U,"The book not found")):g("",!0)],64))}});export{K as default};
