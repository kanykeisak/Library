import{d as B,c as k,a as f,o as c,b as _,w as n,j as h,t as p,e as o,_ as C,g as l,h as m,k as b,n as $,m as g,p as M,r as x,q as F,f as I,F as N}from"./index-f2556302.js";import{u as T}from"./vue.f36acd1f-8e98c009.js";import{u as y,g as S,a as V}from"./index-49d00965.js";const j=B({__name:"ToggleFavoriteBook",props:{book:{}},setup(u){const s=u,e=y(),i=k(()=>e.isBookInFavorites(s.book.id)?"В избранном":"В избранное"),r=k(()=>e.isBookInFavorites(s.book.id)?"yellow":"");return(d,t)=>{const a=f("v-btn");return c(),_(a,{"prepend-icon":"mdi-star",color:o(r),onClick:t[0]||(t[0]=v=>o(e).toggleFavoriteBook(d.book))},{default:n(()=>[h(p(o(i)),1)]),_:1},8,["color"])}}}),D=B({__name:"ToggleReadBook",props:{book:{}},setup(u){const s=u,e=y(),i=k(()=>e.isBookInBookshelf(s.book.id)?"В библиотеке":"В библиотеку"),r=k(()=>e.isBookInBookshelf(s.book.id)?"green":"");return(d,t)=>{const a=f("v-btn");return c(),_(a,{"prepend-icon":"mdi-bookshelf",color:o(r),onClick:t[0]||(t[0]=v=>o(e).toggleBookshelfBook(d.book))},{default:n(()=>[h(p(o(i)),1)]),_:1},8,["color"])}}}),H={};function L(u,s){const e=f("v-btn");return c(),_(e,{"prepend-icon":"mdi-arrow-left",variant:"text",onClick:s[0]||(s[0]=i=>u.$router.go(-1))},{default:n(()=>[h("Назад")]),_:1})}const E=C(H,[["render",L]]),O="_image_17fkx_1",R="_info_17fkx_5",w={image:O,info:R},q=["src"],z=["src"],A=["innerHTML"],P=B({__name:"BookDetails",props:{book:{}},setup(u){const s=u;T({title:`Polka - ${s.book.title}`});const e=k(()=>s.book.image),i=k(()=>Object.keys(s.book).length>0);return(r,d)=>{const t=f("v-col"),a=f("v-row"),v=f("v-container");return c(),_(v,null,{default:n(()=>[l(a,null,{default:n(()=>[l(t,null,{default:n(()=>[l(o(E))]),_:1})]),_:1}),l(a,null,{default:n(()=>[l(t,{sm:"10",md:"8",lg:"6","offset-lg":"3","offset-md":"2","offset-sm":"1"},{default:n(()=>[l(a,null,{default:n(()=>[l(t,null,{default:n(()=>[m("h2",null,p(r.book.title),1)]),_:1})]),_:1}),l(a,null,{default:n(()=>[l(t,{cols:"12",sm:"5",md:"3"},{default:n(()=>[o(e)?(c(),b("img",{key:0,src:o(e),class:$(o(w).image)},null,10,q)):(c(),b("img",{key:1,src:o(S)(),alt:"No image"},null,8,z))]),_:1}),l(t,null,{default:n(()=>[m("div",{class:$(o(w).info)},[m("h3",null,p(o(V)(r.book.authors)),1),m("div",{innerHTML:r.book.description},null,8,A)],2),l(a,null,{default:n(()=>[l(t,{cols:"auto"},{default:n(()=>[o(i)?(c(),_(o(j),{key:0,book:r.book},null,8,["book"])):g("",!0)]),_:1}),l(t,{cols:"auto"},{default:n(()=>[o(i)?(c(),_(o(D),{key:0,book:r.book},null,8,["book"])):g("",!0)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}}),U={key:1,class:"text-center mt-10"},K=B({__name:"Book",setup(u){const s=M(),e=y(),i=x(!1);F(()=>{d()}),I(()=>{e.$reset()});const r=k(()=>Object.keys(e.book).length>0),d=async()=>{const{id:t}=s.params;if(typeof t=="string"){const{error:a}=await e.fetchBookById(t);a&&(i.value=!0)}};return(t,a)=>(c(),b(N,null,[o(r)?(c(),_(o(P),{key:0,book:o(e).book},null,8,["book"])):g("",!0),o(i)?(c(),b("div",U,"Не нашли книгу")):g("",!0)],64))}});export{K as default};
